# 实验运行说明

实现了能够执行36条MIPS指令的单周期MIPS CPU，可运行代码以及code.txt在同一文件夹中。

可以通过代码运行后生成的`out.txt`查看每一周期后寄存器组与数据存储器中的数据。

##一、模块分析

总体上，代码分为`PC, NPC, im, dm, Mux, RegFile, extender, alu, datapath, ctrl, mips`这十一个模块，此外，增加`testbench`模块用于仿真，其余模块的定义在实验报告文档中有具体阐释，此处不再赘述。

##二、运行分析

使用ModelSim作为工具，进行编程及仿真。首先，需要将code.txt放到ModelSim的运行文件夹中，运行时可选择新建一个project，再将所有模块文件，包括union_ts(testbench)导入，此处testbench文件可以进行改动，进行仿真时需要注意run time的时间设置（根据设置的周期进行改动）。目前设置的时钟周期为10s，cpu在下降沿响应。

进行仿真时，选择Simulate - Start Simulation – 找到union_ts，并打开，将MIPS模块中的信号加入波形图，即可获得相关信号的波形。同时，可以在Memory List中找到寄存器、数据内存和指令存储器中的相关内容，顺序为标号小的位于标号大的后面。因此，如果需要查看数据内存和指令存储器中的内容，需要移到面板最下方进行查看(点击滚动条下部的小箭头确保移到最底端)。

##三、运行结果

使用的测试例子为老师提供的涉及所有类型指令的文件，具体的运行结果在实验报告中有记录，结果正确。